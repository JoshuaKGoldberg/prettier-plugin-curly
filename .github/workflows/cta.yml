jobs:
  transition:
    name: Transition
    runs-on: ubuntu-latest
    steps:
      - id: checkout
        if: (github.actor == 'JoshuaKGoldberg' || github.actor == 'renovate[bot]') && startsWith(github.head_ref, 'renovate/') && contains(github.event.pull_request.title, 'create-typescript-app')
        uses: actions/checkout@08eba0b27e820071cde6df949e0beb9ba4906955 # v4
        with:
          fetch-depth: 0
          ref: ${{github.event.pull_request.head.ref}}
          repository: ${{github.event.pull_request.head.repo.full_name}}
          token: ${{ secrets.ACCESS_TOKEN }}
      - if: steps.checkout.outcome != 'skipped'
        uses: ./.github/actions/transition
      - if: steps.checkout.outcome == 'skipped'
        run: echo 'Skipping transition mode because the PR does not appear to be an automated or owner-created update to create-typescript-app.'

name: CTA

on:
  pull_request:
    branches:
      - main

permissions:
  pull-requests: write
